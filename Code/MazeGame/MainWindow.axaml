<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:controls="clr-namespace:MazeGame.Controls"
        xmlns:models="clr-namespace:MazeGame.Models"
        mc:Ignorable="d"
        d:DesignWidth="1200"
        d:DesignHeight="800"
        x:Class="MazeGame.MainWindow"
        Title="Maze Game"
        Background="#0F1419"
        Padding="0">
    <Grid ColumnDefinitions="300,*" RowDefinitions="Auto,*">
        <Border Grid.Column="0" 
                Background="#1A1F2E"
                BorderBrush="#2A3441"
                BorderThickness="0,0,1,0">
            <Grid RowDefinitions="Auto,Auto,*">
                <Border Grid.Row="0"
                        Background="#252B3B"
                        Padding="16"
                        Margin="12,12,12,8">
                    <StackPanel Spacing="12">
                        <TextBlock Text="ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð»Ð°Ð±Ð¸Ñ€Ð¸Ð½Ñ‚Ð°" 
                                   Foreground="#E0E6ED"
                                   FontSize="16"
                                   FontWeight="Bold"/>
                        
                        <StackPanel Spacing="8">
                            <TextBlock Text="Ð¨Ð¸Ñ€Ð¸Ð½Ð°" Foreground="#B8C5D1" FontSize="12"/>
                            <NumericUpDown Name="WidthInput"
                                           Minimum="5"
                                           Maximum="60"
                                           Value="20"
                                           Background="#1A1F2E"
                                           Foreground="#E0E6ED"
                                           BorderBrush="#3A4551"/>
                        </StackPanel>

                        <StackPanel Spacing="8">
                            <TextBlock Text="Ð’Ñ‹ÑÐ¾Ñ‚Ð°" Foreground="#B8C5D1" FontSize="12"/>
                            <NumericUpDown x:Name="HeightInput"
                                           Minimum="5"
                                           Maximum="60"
                                           Value="20"
                                           Background="#1A1F2E"
                                           Foreground="#E0E6ED"
                                           BorderBrush="#3A4551"/>
                        </StackPanel>

                        <StackPanel Spacing="8">
                            <TextBlock Text="Seed (Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾)" Foreground="#B8C5D1" FontSize="12"/>
                            <TextBox x:Name="SeedInput"
                                     Watermark="Ð¡Ð»ÑƒÑ‡Ð°Ð¹Ð½Ð¾"
                                     Background="#1A1F2E"
                                     Foreground="#E0E6ED"
                                     BorderBrush="#3A4551"/>
                        </StackPanel>

                        <Button Content="ðŸŽ² Ð¡Ð³ÐµÐ½ÐµÑ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ"
                                Click="OnGenerateMaze"
                                Padding="12,8"
                                Background="#4A90E2"
                                Foreground="White"
                                FontWeight="Bold"
                                Cursor="Hand"/>

                        <Separator Background="#3A4551" Margin="0,8"/>

                        <StackPanel Spacing="8">
                            <CheckBox Name="ShowHintsCheckBox"
                                      Content="ðŸ’¡ ÐŸÐ¾ÐºÐ°Ð·Ñ‹Ð²Ð°Ñ‚ÑŒ Ð¿Ð¾Ð´ÑÐºÐ°Ð·ÐºÐ¸"
                                      Foreground="#B8C5D1"
                                      IsChecked="True"/>
                            <CheckBox Name="MouseControlCheckBox"
                                      Content="ðŸ–±ï¸ Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¼Ñ‹ÑˆÐºÐ¾Ð¹ (Ð¿ÐµÑ€ÐµÑ‚Ð°ÑÐºÐ¸Ð²Ð°Ð½Ð¸Ðµ)"
                                      Foreground="#B8C5D1"
                                      IsChecked="False"/>
                            <Button Name="RunAiButton"
                                    Content="ðŸ¤– Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Ð˜Ð˜ Ð´Ð¾ Ñ†ÐµÐ»Ð¸"
                                    Click="OnRunAiToTarget"
                                    Padding="12,8"
                                    Background="#6A4C93"
                                    Foreground="White"
                                    FontWeight="Bold"
                                    Cursor="Hand"
                                    IsEnabled="False"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <Border Grid.Row="1"
                        Background="#252B3B"
                        Padding="16"
                        Margin="12,0,12,8">
                    <StackPanel Spacing="8">
                        <TextBlock Text="Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ°" 
                                   Foreground="#E0E6ED"
                                   FontSize="16"
                                   FontWeight="Bold"/>
                        <TextBlock Name="StatusText"
                                   Text="Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ ÑÑ‚Ñ€ÐµÐ»ÐºÐ¸ Ð¸Ð»Ð¸ WASD"
                                   Foreground="#B8C5D1"
                                   TextWrapping="Wrap"/>
                        <TextBlock Name="StatsText"
                                   Text="Ð¨Ð°Ð³Ð¾Ð²: 0"
                                   Foreground="#7A8FA3"
                                   FontSize="12"/>
                    </StackPanel>
                </Border>

                <Border Grid.Row="2"
                        Background="#252B3B"
                        Padding="16"
                        Margin="12,0,12,12">
                    <StackPanel Spacing="8">
                        <TextBlock Text="ðŸ† Ð›Ð¸Ð´ÐµÑ€Ð±Ð¾Ñ€Ð´" 
                                   Foreground="#E0E6ED"
                                   FontSize="16"
                                   FontWeight="Bold"/>
                        <ScrollViewer MaxHeight="300">
                            <ItemsControl Name="LeaderboardList">
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate x:DataType="models:LeaderboardEntry">
                                        <Border Background="#1A1F2E"
                                                Padding="8"
                                                Margin="0,0,0,4"
                                                CornerRadius="4">
                                            <StackPanel>
                                                <TextBlock Text="{Binding PlayerName}"
                                                           Foreground="#E0E6ED"
                                                           FontWeight="SemiBold"/>
                                                <TextBlock Text="{Binding FormattedTime}"
                                                           Foreground="#4A90E2"
                                                           FontSize="14"/>
                                                <TextBlock Text="{Binding Steps, StringFormat='{}Ð¨Ð°Ð³Ð¾Ð²: {0}'}"
                                                           Foreground="#7A8FA3"
                                                           FontSize="11"/>
                                            </StackPanel>
                                        </Border>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </ScrollViewer>
                    </StackPanel>
                </Border>
            </Grid>
        </Border>

        <Grid Grid.Column="1" RowDefinitions="Auto,*">
            <Border Grid.Row="0"
                    Background="#1A1F2E"
                    Padding="16,12"
                    BorderBrush="#2A3441"
                    BorderThickness="0,0,0,1">
                <TextBlock Text="ðŸŽ® Ð›Ð°Ð±Ð¸Ñ€Ð¸Ð½Ñ‚"
                           Foreground="#E0E6ED"
                           FontSize="18"
                           FontWeight="Bold"
                           HorizontalAlignment="Center"/>
            </Border>

            <Border Grid.Row="1"
                    Background="#0F1419"
                    Padding="20">
                <controls:MazeView Name="MazeCanvas"
                                   PathBrush="#2A3441"
                                   StartBrush="#4CAF50"
                                   FinishBrush="#E53935"
                                   PathLineBrush="#FFD700"
                                   Cursor="Hand"/>
            </Border>
        </Grid>
    </Grid>
</Window>
