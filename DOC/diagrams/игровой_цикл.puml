@startuml Игровой_цикл
start

:Инициализация приложения;
:Создание главного окна;
:Генерация начального лабиринта;

while (Приложение работает?) is (Да)
  
  :Ожидание события;
  
  if (Событие?) then (Нажатие клавиш)
    :Обработать движение;
    :Обновить позицию игрока;
  elseif (Клик мышью) then
    :Показать подсказку пути;
    :Обновить визуализацию;
  elseif (Перетаскивание) then
    :Показать подсказку при движении;
    :Переместить игрока при отпускании;
  elseif (Генерация лабиринта) then
    :Создать новый лабиринт;
    :Сбросить состояние игры;
  elseif (Запуск ИИ) then
    :Найти путь до цели;
    :Анимировать движение ИИ;
  endif
  
  :Обновить статистику;
  :Обновить визуализацию;
  
  if (Достигнут финиш?) then (Да)
    :Остановить таймер;
    :Добавить в лидерборд;
    :Показать сообщение о победе;
  else (Нет)
  endif
  
endwhile (Нет)

:Закрытие приложения;
stop
@enduml
