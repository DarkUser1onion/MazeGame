@startuml Поиск_пути
start

:Старт = (startX, startY);
:Цель = (targetX, targetY);
:Направление = (1, 0);
:Путь = [Старт];
:Посещенные = {Старт};

if (Старт == Цель?) then (Да)
  :Вернуть путь;
  stop
endif

:Попытка 1: Следование по правой стене;

while (Не достигнута цель И шаги < максимум) is (Да)
  :Определить приоритетные направления\n(поворот, прямо, назад);
  
  :Найдено направление для движения?;
  
  if (Можно двигаться?) then (Да)
    :Переместиться в выбранном направлении;
    :Добавить позицию в путь;
    :Обновить направление;
    :Добавить позицию в посещенные;
  else (Нет)
    :Изменить направление;
  endif
endwhile (Нет)

if (Цель достигнута?) then (Нет)
  :Попытка 2: Следование по левой стене;
  :Сбросить путь и направление;
  
  while (Не достигнута цель И шаги < максимум) is (Да)
    :Определить приоритетные направления\n(поворот, прямо, назад);
    
    if (Можно двигаться?) then (Да)
      :Переместиться в выбранном направлении;
      :Добавить позицию в путь;
      :Обновить направление;
    else (Нет)
      :Изменить направление;
    endif
  endwhile (Нет)
endif

:Обрезать петли в пути;
:Вернуть оптимизированный путь;

stop
@enduml
